<!DOCTYPE html>
<head>
    <title>—Ñ—ñ–ª—å–º–∏</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>üé¨ –ö–∞—Ç–∞–ª–æ–≥ —Ñ—ñ–ª—å–º—ñ–≤</h1>
        </div>
    </header>

    
<form method="get" class="filters">
    <label>
        –ñ–∞–Ω—Ä:
        <select name="genre">
            <option value="" {% if request.args.get('genre') == '' %}selected{% endif %}>–£—Å—ñ</option>
            <option value="–¥—Ä–∞–º–∞" {% if request.args.get('genre') == '–¥—Ä–∞–º–∞' %}selected{% endif %}>–î—Ä–∞–º–∞</option>
            <option value="–∫–æ–º–µ–¥—ñ—è" {% if request.args.get('genre') == '–∫–æ–º–µ–¥—ñ—è' %}selected{% endif %}>–ö–æ–º–µ–¥—ñ—è</option>
            <option value="–µ–∫—à–Ω" {% if request.args.get('genre') == '–µ–∫—à–Ω' %}selected{% endif %}>–ï–∫—à–Ω</option>
            <option value="—Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞" {% if request.args.get('genre') == '—Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞' %}selected{% endif %}>–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞</option>
        </select>
    </label>

        <label>
            –¢–∏–ø:
            <select name="type">
                <option value="" {% if request.args.get('type') == '' %}selected{% endif %}>–£—Å—ñ</option>
                <option value="—Ñ—ñ–ª—å–º" {% if request.args.get('type') == '—Ñ—ñ–ª—å–º' %}selected{% endif %}>–§—ñ–ª—å–º</option>
                <option value="—Å–µ—Ä—ñ–∞–ª" {% if request.args.get('type') == '—Å–µ—Ä—ñ–∞–ª' %}selected{% endif %}>–°–µ—Ä—ñ–∞–ª</option>
            </select>
        </label>

        <label>
            –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å (—Ö–≤):
            <select name="duration">
                <option value="" {% if request.args.get('duration') == '' %}selected{% endif %}>–£—Å—ñ</option>
                <option value="60" {% if request.args.get('duration') == '60' %}selected{% endif %}>60</option>
                <option value="90" {% if request.args.get('duration') == '90' %}selected{% endif %}>90</option>
                <option value="120" {% if request.args.get('duration') == '120' %}selected{% endif %}>120</option>
            </select>
        </label>

        <label>
            –†—ñ–∫ –≤–∏–ø—É—Å–∫—É:
            <input type="number" name="year" min="1900" max="2025" placeholder="–≤—ñ–¥" value="{{ request.args.get('year', '') }}">
        </label>

        <label>
            –û—Ü—ñ–Ω–∫–∞:
            <input type="number" name="rating_min" placeholder="–≤—ñ–¥ 0 –¥–æ 10" min="0" max="10" value="{{ request.args.get('rating_min', '') }}">
        </label>

        <label>
            –ü–µ—Ä–µ–≥–ª—è–¥–∏:
            <input type="number" name="views_max" placeholder="–≤—ñ–¥" value="{{ request.args.get('views_max', '') }}">
        </label>
        
        <button type="submit">üîç –§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏</button>
        <button type="submit" name="random" value="1" class="random-button">üé≤ –í–∏–ø–∞–¥–∫–æ–≤–∏–π —Ñ—ñ–ª—å–º</button>
    </form>

    <main>
        <div class="container">
            <h2>–°–ø–∏—Å–æ–∫ —Ñ—ñ–ª—å–º—ñ–≤</h2>
            <div class="film-grid">
                {% for film in films %}
                <a class="film-card" href="/film/{{ film['ID'] }}">
                    <h3>{{ film['–ù–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É'] }}</h3>
                    <img src="{{ url_for('static', filename='posters/' + film['–ø–æ—Å—Ç–µ—Ä']) }}">
                </a>
                {% endfor %}
            </div>
        </div>
    </main>

    
</body>
</html>